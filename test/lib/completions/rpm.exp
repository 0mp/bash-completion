proc setup {} {
    save_env
}; # setup()


proc teardown {} {
    assert_env_unmodified
}; # teardown()


setup


assert_complete_any "rpm "


sync_after_int


    # Build list of installed packages
if {[assert_exec {rpm -qa --qf=%\{NAME\}\n | sort -u} packages]} {
    assert_complete $packages "rpm -q "
}; # if


sync_after_int


teardown
